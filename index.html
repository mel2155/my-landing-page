<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>好爱色·精选APP</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet" />

  <style>
    /* ===== 主题颜色与全局设置 ===== */
    :root {
      --bg-color: #15050A; /* 更深、更纯粹的背景色，提升沉浸感 */
      --header-bg-start-color: #4A000F; /* 头部背景渐变起始色：深紫，与网站主题呼应 */
      --header-bg-end-color: #2A0008; /* 头部背景渐变结束色：深灰，平滑过渡 */
      --text-color: #f0f0f0; /* 主要文本颜色，更亮，对比度更好 */
      --secondary-text-color: #a0a0a0; /* 次要文本颜色，柔和，不抢主色 */
      --logo-bg-color: transparent; /* Logo 背景色设置为透明 */
      --border-color: #242424; /* 分隔线颜色，更暗，更融入背景 */
      --card-hover-scale: 1.05; /* 卡片悬浮放大比例，更自然 */
      --grid-gap-vertical: 20px; /* 网格垂直间距，略微增大，更清晰 */
      --grid-gap-horizontal: 15px; /* 网格水平间距，略微增大，更清晰 */
      --accent-color: #7aa1f9; /* 强调色，略微亮化，更具活力 */
      --header-title-color: #ffffff; /* 标题颜色纯白，更醒目 */
    }

    body {
      font-family: 'Noto Sans SC', sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--bg-color);
      color: var(--text-color);
      line-height: 1.65; /* 优化行高，提升可读性 */
      -webkit-font-smoothing: antialiased; /* 字体抗锯齿 */
      -moz-osx-font-smoothing: grayscale;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* ===== 头部样式 - 优化 ===== */
    header {
      /* 优化后的渐变背景：深紫到深灰，过渡更自然，更具质感 */
      background: linear-gradient(135deg, var(--header-bg-start-color) 0%, var(--header-bg-end-color) 100%);
      color: var(--header-title-color); /* 标题颜色 */
      text-align: center;
      padding: 2.2rem 1rem; /* 增加内边距，提供更多空间 */
      font-size: 2.3rem; /* 增大字体，更具冲击力 */
      font-weight: 700; /* 加粗 */
      border-bottom: 1px solid var(--border-color); /* 底部边框，与背景色协调 */
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6); /* 更明显、更柔和的阴影 */
      letter-spacing: 0.12em; /* 略微增大字间距，提升美观度 */
      /* 优化文字阴影：更柔和，更具立体感 */
      text-shadow: 0 0 20px rgba(255, 255, 255, 0.4), 0 0 10px rgba(255, 255, 255, 0.2);
      position: sticky; /* 顶部固定 */
      top: 0;
      z-index: 1000; /* 确保在其他内容之上 */
    }

    /* ===== 网格布局 (核心) ===== */
    .grid {
      display: grid;
      /* 默认桌面端显示 6 列，给大屏幕更多空间 */
      grid-template-columns: repeat(6, 1fr); 
      gap: var(--grid-gap-vertical) var(--grid-gap-horizontal);
      padding: 30px 20px; /* 增加内边距，更舒适 */
      max-width: 1400px; /* 增大最大宽度，适应大屏幕 */
      margin: 0 auto;
      flex-grow: 1;
    }

    /* ===== 卡片样式 ===== */
    .card {
      text-decoration: none;
      color: var(--text-color);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease; /* 动画更流畅 */
      padding: 8px; /* 略微增大卡片内边距 */
      border-radius: 12px; /* 更圆润的圆角 */
      background-color: transparent; /* 卡片背景透明 */
      box-shadow: none; /* 移除默认阴影 */
    }

    .card:hover {
      transform: scale(var(--card-hover-scale));
      background-color: rgba(255, 255, 255, 0.07); /* 悬浮时显示略深的半透明背景 */
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5); /* 悬浮时阴影更明显，但柔和 */
    }

    /* ===== Logo图片样式 ===== */
    .card img {
      width: 90%; /* 图片宽度，略微缩小，留白更均匀 */
      aspect-ratio: 1 / 1;
      object-fit: cover;
      background-color: var(--logo-bg-color); /* Logo 背景色透明 */
      border-radius: 22%; /* 使图标更圆润，或根据设计风格调整 */
      margin-bottom: 8px; /* Logo和文字的间距 */
      flex-shrink: 0;
      box-shadow: 0 3px 12px rgba(0, 0, 0, 0.4); /* 图标增加更明显的阴影 */
    }

    /* ===== 标题样式 ===== */
    .card-title {
      font-size: 14px; /* 字体大小适中 */
      font-weight: 400; /* 字重适中 */
      text-align: center;
      width: 100%;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      box-sizing: border-box;
      padding: 0 4px; /* 增加左右内边距，避免文字贴边 */
      color: var(--text-color);
      line-height: 1.4; /* 调整行高 */
    }

    /* ===== 响应式调整 ===== */

    /* 最小手机屏幕: 320px - 480px, 显示 4 列 */
    @media (max-width: 480px) {
      .grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 15px 8px; /* 减小间距 */
        padding: 15px 10px;
      }
      .card {
        padding: 5px;
      }
      .card-title {
        font-size: 10px; /* 进一步减小字号 */
      }
      header {
        font-size: 1.8rem; /* 调整手机端标题大小 */
        padding: 1.8rem 1rem;
        letter-spacing: 0.08em; /* 减小字间距 */
      }
    }

    /* 中等屏幕手机/小平板: 481px - 768px, 显示 5 列 */
    @media (min-width: 481px) and (max-width: 768px) {
      .grid {
        grid-template-columns: repeat(5, 1fr); /* 核心：这里是 5 列，符合预期 */
        gap: 18px 10px;
        padding: 20px 15px;
      }
      .card-title {
        font-size: 12px;
      }
      header {
        font-size: 2rem; /* 调整标题大小 */
        padding: 2rem 1rem;
      }
    }

    /* 平板/桌面: 769px - 1024px, 显示 6 列 */
    @media (min-width: 769px) and (max-width: 1024px) {
      .grid {
        grid-template-columns: repeat(6, 1fr);
        gap: 20px 12px;
        padding: 25px 20px;
      }
      .card-title {
        font-size: 13px;
      }
      header {
        font-size: 2.1rem;
      }
    }

    /* 大屏幕桌面: 1025px - 1440px, 显示 7 列 (略微增加) */
    @media (min-width: 1025px) and (max-width: 1440px) {
        .grid {
            grid-template-columns: repeat(7, 1fr); /* 略微增加到 7 列 */
            gap: 22px 15px;
            padding: 30px 25px;
        }
        .card-title {
            font-size: 14px;
        }
    }

    /* 超大屏幕桌面: 1441px 以上, 显示 8 列 */
    @media (min-width: 1441px) {
        .grid {
            grid-template-columns: repeat(8, 1fr); /* 进一步增加到 8 列 */
            gap: 25px 18px;
            padding: 35px 30px;
        }
        .card-title {
            font-size: 15px;
        }
    }

    /* ===== 页脚样式 ===== */
Footer {
    text-align: center;
    padding: 0.8rem 1rem; /* 优化点1: 大幅减小上下内边距，使内容更紧凑。您可以尝试 0.5rem 到 1rem 之间的值。 */
    font-size: 0.95rem; /* 字号保持不变，或根据需要微调。 */
    color: var(--secondary-text-color);
    margin-top: 20px; /* 优化点2: 减小顶部外边距，让页脚更靠近上方内容。从 40px 减到 20px，您可以根据实际情况调整。 */
    border-top: 1px solid var(--border-color); /* 边框样式保持不变。 */
    background-color: var(--header-bg-end-color); /* 背景颜色保持不变。 */
    box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.3); /* 阴影保持不变。 */
    line-height: 1.2; /* 优化点3: 显著减小行高，使页脚内文本行间距更紧密。从 1.6 减到 1.2，或更小（如 1.0）。 */
}


    /* 包裹联系信息的容器样式 */
    .contact-info {
      background-color: transparent; /* 背景透明 */
      padding: 0.8rem 0; /* 略微增加内边距 */
      margin-bottom: 0;
      display: inline-block;
      max-width: 95%;
      line-height: 1.7; /* 调整行高 */
      border: none;
    }

    .contact-info a {
      color: var(--accent-color);
      text-decoration: none;
      transition: color 0.2s ease, text-shadow 0.2s ease;
    }

    .contact-info a:hover {
      color: #9ac2ff; /* 悬停颜色更亮 */
      text-shadow: 0 0 8px rgba(154, 194, 255, 0.6); /* 悬停阴影更明显 */
    }

    .contact-info p {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 5px; /* 段落间距更小 */
      color: var(--secondary-text-color);
      font-size: 0.95rem; /* 字体更小巧 */
    }

    .contact-info p:first-child {
        font-weight: 500; /* 联系站长字重略微加粗 */
        margin-bottom: 8px; /* 稍微大一点的间距 */
        color: var(--text-color); /* 联系站长文本颜色使用主文本色 */
        font-size: 1.05rem; /* 稍微大一点 */
    }

    .contact-info p:last-of-type {
      margin-bottom: 0;
    }

    .contact-info .icon {
      margin-right: 10px; /* 图标与文本的间距 */
      font-size: 1.2em; /* 图标大小 */
      color: var(--accent-color);
    }

    /* 加载动画 */
    #loading-indicator {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8); /* 背景更深 */
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        font-size: 1.8rem; /* 字体更大 */
        z-index: 9999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.4s ease, visibility 0.4s ease; /* 过渡更平滑 */
        flex-direction: column; /* 让文字和点垂直排列 */
    }

    #loading-indicator.show {
        opacity: 1;
        visibility: visible;
    }
    
    #loading-indicator div {
        margin-top: 10px; /* 文字和点之间的间距 */
    }

    #loading-indicator span {
        animation: blink 1s infinite alternate;
        margin: 0 2px; /* 点之间有小间距 */
    }

    #loading-indicator span:nth-child(2) {
        animation-delay: 0.2s;
    }

    #loading-indicator span:nth-child(3) {
        animation-delay: 0.4s;
    }

    @keyframes blink {
        from { opacity: 0.3; } /* 从半透明开始 */
        to { opacity: 1; }
    }
  </style>
</head>
<body>
  <header>好爱色·精选APP</header>

  <div id="card-container" class="grid"></div>

  <footer>
    <div class="contact-info">
      <p>联系站长:</p>
      <p><span class="icon">✈️</span> Telegram: <a href="https://t.me/yy21551" target="_blank" rel="noopener noreferrer">@yy21551</a></p>
      <p><span class="icon">📧</span> E-mail: <a href="mailto:melyy179@gmail.com">melyy179@gmail.com</a></p>
    </div>
  </footer>

  <div id="loading-indicator">
      加载中
      <div><span>.</span><span>.</span><span>.</span></div>
  </div>

  <script src="cards-from-guanli.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cardContainer = document.getElementById('card-container');
      const loadingIndicator = document.getElementById('loading-indicator');

      if (loadingIndicator) {
          loadingIndicator.classList.add('show');
      }

      // 模拟异步加载（如果实际数据加载很快，可以移除 setTimeout）
      // 这里的 setTimeout 仅为演示加载动画效果，实际项目中应根据数据加载完成的时机来隐藏
      setTimeout(() => {
        if (cardContainer && typeof sites !== 'undefined' && Array.isArray(sites)) {
          sites.forEach(site => {
            const card = document.createElement('a');
            card.href = site.url;
            card.target = "_blank";
            card.rel = "noopener noreferrer";

            card.classList.add('card');

            const img = document.createElement('img');
            img.src = "logos/" + site.image;
            img.alt = site.name + ' Logo';
            img.loading = "lazy"; // 优化图片加载性能

            const title = document.createElement('div');
            title.classList.add('card-title');
            title.textContent = site.name;

            card.appendChild(img);
            card.appendChild(title);
            cardContainer.appendChild(card);
          });
        } else {
          console.error("未能找到 card-container 元素或 'sites' 数据未正确加载。请确保 cards-from-guanli.js 正确定义了 'sites' 数组。");
        }

        if (loadingIndicator) {
            loadingIndicator.classList.remove('show');
        }

      }, 600); // 适当延长模拟加载时间，让动画效果更明显
    });
  </script>
</body>
</html>
