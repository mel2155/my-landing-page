<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>好爱色·精选APP</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet" />

  <style>
    /* ===== 主题颜色与全局设置 ===== */
    :root {
      --bg-color: #121212; /* 更深的背景色，增加沉浸感 */
      --header-bg-start-color: #3a0052; /* 头部背景渐变起始色 */
      --header-bg-end-color: #1f1f1f; /* 头部背景渐变结束色 */
      --text-color: #e0e0e0; /* 主要文本颜色 */
      --secondary-text-color: #888; /* 次要文本颜色 (如页脚，更柔和) */
      --logo-bg-color: transparent; /* Logo 背景色设置为透明 */
      --border-color: #282828; /* 分隔线颜色，更柔和，接近背景 */
      --card-hover-scale: 1.08; /* 卡片悬浮放大比例，更明显 */
      --grid-gap-vertical: 16px; /* 网格垂直间距，更紧凑 */
      --grid-gap-horizontal: 10px; /* 网格水平间距，更紧凑 */
      --accent-color: #6a9ee8; /* 强调色，用于链接悬停等 */
      --header-title-color: #fff; /* 标题颜色改为纯白，更醒目 */
    }

    body {
      font-family: 'Noto Sans SC', sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--bg-color);
      color: var(--text-color);
      line-height: 1.7; /* 增加行高，提升可读性 */
      -webkit-font-smoothing: antialiased; /* 字体抗锯齿，使字体更平滑 */
      -moz-osx-font-smoothing: grayscale;
      min-height: 100vh; /* 确保页面至少占满视口高度 */
      display: flex;
      flex-direction: column;
    }

    /* ===== 头部样式 - 优化 ===== */
    header {
      background: linear-gradient(135deg, var(--header-bg-start-color) 0%, var(--header-bg-end-color) 100%); /* 渐变背景 */
      color: var(--header-title-color); /* 标题颜色 */
      text-align: center;
      padding: 2rem 1rem; /* 增加内边距 */
      font-size: 2.2rem; /* 增大字体 */
      font-weight: 700; /* 加粗 */
      border-bottom: 1px solid var(--border-color);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.5); /* 更明显的阴影 */
      letter-spacing: 0.1em; /* 增加字间距 */
      text-shadow: 0 0 15px rgba(255, 255, 255, 0.3); /* 柔和的文字阴影 */
    }

    /* ===== 网格布局 (核心) ===== */
    .grid {
      display: grid;
      /* 核心修改：每行固定为 5 个 App */
      grid-template-columns: repeat(5, 1fr);
      gap: var(--grid-gap-vertical) var(--grid-gap-horizontal);
      padding: 25px 15px; /* 减小内边距，使内容更紧凑 */
      max-width: 1200px; /* 保持最大宽度 */
      margin: 0 auto;
      flex-grow: 1;
    }

    /* ===== 卡片样式 ===== */
    .card {
      text-decoration: none;
      color: var(--text-color);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      transition: transform 0.25s ease, box-shadow 0.25s ease, background-color 0.25s ease;
      padding: 6px; /* 减小卡片内边距，更紧凑 */
      border-radius: 10px; /* 圆角适中 */
      background-color: transparent; /* 卡片背景透明 */
      box-shadow: none; /* 移除默认阴影 */
    }

    .card:hover {
      transform: scale(var(--card-hover-scale));
      background-color: rgba(255, 255, 255, 0.05); /* 悬浮时显示半透明背景 */
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4); /* 悬浮时添加阴影 */
    }

    /* ===== Logo图片样式 ===== */
    .card img {
      width: 95%; /* 稍微增大图片比例，几乎填满卡片宽度 */
      aspect-ratio: 1 / 1;
      object-fit: cover; /* 确保图片覆盖区域，可能需要裁切 */
      background-color: transparent; /* Logo 背景色透明 */
      border-radius: 20%; /* 使图标更圆润，或使用 5px 保持方形，取决于喜好 */
      margin-bottom: 6px; /* Logo和文字的间距 */
      flex-shrink: 0;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3); /* 图标增加一点阴影 */
    }

    /* ===== 标题样式 ===== */
    .card-title {
      font-size: 13px; /* 字体大小适中 */
      font-weight: 400; /* 字重更细 */
      text-align: center;
      width: 100%;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      box-sizing: border-box;
      padding: 0 2px;
      color: var(--text-color); /* 确保字体颜色 */
      line-height: 1.3; /* 调整行高 */
    }

    /* ===== 响应式调整 ===== */
    /* 核心修改：针对不同屏幕宽度，精确控制列数 */

    /* 最小手机屏幕: 320px - 480px, 显示 4 列 */
    @media (max-width: 480px) {
      .grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 15px 8px; /* 减小间距，适应小屏 */
        padding: 15px 10px;
      }
      .card {
        padding: 5px;
      }
      .card-title {
        font-size: 10px; /* 进一步减小字号 */
      }
      header {
        font-size: 1.6rem; /* 调整手机端标题大小 */
        padding: 1.5rem 1rem;
      }
    }

    /* 中等屏幕手机/小平板: 481px - 768px, 显示 5 列 */
    @media (min-width: 481px) and (max-width: 768px) {
      .grid {
        grid-template-columns: repeat(5, 1fr); /* 核心：这里是 5 列 */
        gap: 18px 10px; /* 调整间距 */
        padding: 20px 15px;
      }
      .card-title {
        font-size: 12px;
      }
      header {
        font-size: 1.8rem; /* 调整标题大小 */
      }
    }

    /* 平板/桌面: 769px - 1024px, 显示 6 列 (为了平衡，从5列跳到6列) */
    @media (min-width: 769px) and (max-width: 1024px) {
      .grid {
        grid-template-columns: repeat(6, 1fr);
        gap: 20px 12px;
        padding: 25px 20px;
      }
      .card-title {
        font-size: 13px;
      }
      header {
        font-size: 2rem; /* 调整标题大小 */
      }
    }

    /* 大屏幕桌面: 1025px 以上, 显示 8 列 (可以根据屏幕宽度决定是否固定为 5 列，或者更多) */
    @media (min-width: 1025px) {
      .grid {
        grid-template-columns: repeat(8, 1fr); /* 大屏幕可以显示更多，例如 8 列 */
        gap: 22px 14px;
        padding: 30px 25px;
      }
      .card-title {
        font-size: 14px;
      }
    }

    /* ===== 页脚样式 ===== */
    footer {
      text-align: center;
      padding: 1.5rem 1rem; /* 调整页脚内边距，更紧凑 */
      font-size: 0.9rem;
      color: var(--secondary-text-color);
      margin-top: 30px; /* 调整顶部外边距 */
      border-top: 1px solid var(--border-color); /* 边框更细、更融入背景 */
      background-color: transparent; /* 页脚背景透明 */
      box-shadow: none; /* 移除阴影 */
      line-height: 1.5; /* 调整行高 */
    }

    /* 包裹联系信息的容器样式 - 透明化处理 */
    .contact-info {
      background-color: transparent; /* 背景透明 */
      padding: 0.5rem 0; /* 减小内边距，更紧凑 */
      border-radius: 0; /* 移除圆角 */
      box-shadow: none; /* 移除阴影 */
      margin-bottom: 0; /* 移除底部外边距 */
      display: inline-block;
      max-width: 90%;
      line-height: 1.6; /* 调整行高 */
      border: none; /* 移除边框 */
    }

    .contact-info a {
      color: var(--accent-color);
      text-decoration: none;
      transition: color 0.2s ease, text-shadow 0.2s ease;
    }

    .contact-info a:hover {
      color: #8ac0ff;
      text-shadow: 0 0 5px rgba(138, 192, 255, 0.5);
    }

    .contact-info p {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 4px; /* 段落间距更小 */
      color: var(--secondary-text-color); /* 联系方式文本颜色使用次要文本色，更柔和 */
      font-size: 0.9rem; /* 字体更小巧 */
    }

    .contact-info p:first-child {
        font-weight: 400; /* 联系站长字重适中 */
        margin-bottom: 6px; /* 稍微大一点的间距 */
        color: var(--text-color); /* 联系站长文本颜色使用主文本色 */
        font-size: 1rem; /* 稍微大一点 */
    }

    .contact-info p:last-of-type {
      margin-bottom: 0;
    }

    .contact-info .icon {
      margin-right: 8px; /* 图标与文本的间距 */
      font-size: 1.1em; /* 图标大小 */
      color: var(--accent-color);
    }

    /* 加载动画 (可选) */
    #loading-indicator {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        font-size: 1.5rem;
        z-index: 9999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    #loading-indicator.show {
        opacity: 1;
        visibility: visible;
    }

    #loading-indicator span {
        animation: blink 1s infinite alternate;
    }

    #loading-indicator span:nth-child(2) {
        animation-delay: 0.2s;
    }

    #loading-indicator span:nth-child(3) {
        animation-delay: 0.4s;
    }

    @keyframes blink {
        from { opacity: 0; }
        to { opacity: 1; }
    }
  </style>
</head>
<body>
  <header>好爱色·精选APP</header>

  <div id="card-container" class="grid"></div>

  <footer>
    <div class="contact-info">
      <p>联系站长:</p>
      <p><span class="icon">✈️</span> Telegram: <a href="https://t.me/yy21551" target="_blank" rel="noopener noreferrer">@yy21551</a></p>
      <p><span class="icon">📧</span> E-mail: <a href="mailto:melyy179@gmail.com">melyy179@gmail.com</a></p>
    </div>
    </footer>

  <div id="loading-indicator">
      加载中<span>.</span><span>.</span><span>.</span>
  </div>

  <script src="cards-from-guanli.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cardContainer = document.getElementById('card-container');
      const loadingIndicator = document.getElementById('loading-indicator');

      if (loadingIndicator) {
          loadingIndicator.classList.add('show');
      }

      // 模拟异步加载（如果实际数据加载很快，可以移除 setTimeout）
      setTimeout(() => {
        if (cardContainer && typeof sites !== 'undefined' && Array.isArray(sites)) {
          sites.forEach(site => {
            const card = document.createElement('a');
            card.href = site.url;
            card.target = "_blank";
            card.rel = "noopener noreferrer";

            card.classList.add('card');

            const img = document.createElement('img');
            img.src = "logos/" + site.image;
            img.alt = site.name + ' Logo';
            img.loading = "lazy";

            const title = document.createElement('div');
            title.classList.add('card-title');
            title.textContent = site.name;

            card.appendChild(img);
            card.appendChild(title);
            cardContainer.appendChild(card);
          });
        } else {
          console.error("未能找到 card-container 元素或 'sites' 数据未正确加载。请确保 cards-from-guanli.js 正确定义了 'sites' 数组。");
        }

        if (loadingIndicator) {
            loadingIndicator.classList.remove('show');
        }

      }, 300);
    });
  </script>
</body>
</html>

