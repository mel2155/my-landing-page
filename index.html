<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>精选站点导航 (纯CSS优化版)</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet" />
  
  <style>
    /* ===== 主题颜色与全局设置 ===== */
    :root {
      --bg-color: #1a1a1a; /* 深邃的背景色 */
      --header-bg-color: #2c2c2c; /* 头部背景色 */
      --text-color: #e0e0e0; /* 主要文本颜色 */
      --secondary-text-color: #777; /* 次要文本颜色 (如页脚) */
      --logo-bg-color: #2c2c2c; /* Logo 背景色 */
      --border-color: #333; /* 分隔线颜色 */
      --card-hover-scale: 1.05; /* 卡片悬浮放大比例 */
      --grid-gap-vertical: 20px; /* 网格垂直间距 */
      --grid-gap-horizontal: 12px; /* 网格水平间距 */
    }

    body {
      font-family: 'Noto Sans SC', sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6; /* 增加行高，提升可读性 */
      -webkit-font-smoothing: antialiased; /* 字体抗锯齿，使字体更平滑 */
      -moz-osx-font-smoothing: grayscale;
    }

    /* ===== 头部样式 ===== */
    header {
      background-color: var(--header-bg-color);
      color: var(--text-color); /* 头部文字颜色与主题文字色保持一致 */
      text-align: center;
      padding: 1.2rem 1rem; /* 增加上下内边距 */
      font-size: 1.6rem; /* 稍微调大标题字号 */
      font-weight: 700; /* 加粗标题 */
      border-bottom: 1px solid var(--border-color);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* 头部阴影，增加层次感 */
    }

    /* ===== 网格布局 (核心) ===== */
    .grid {
      display: grid;
      /* 核心：更灵活的列数，确保每列最小宽度，自动填充 */
      grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); 
      gap: var(--grid-gap-vertical) var(--grid-gap-horizontal);
      padding: 20px;
      max-width: 1200px; /* 增加最大宽度，适应更大屏幕 */
      margin: 0 auto;
    }

    /* ===== 卡片样式 ===== */
    .card {
      text-decoration: none;
      color: var(--text-color);
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: transform 0.2s ease, box-shadow 0.2s ease; /* 增加阴影过渡 */
      padding: 5px; /* 增加点击区域，使卡片看起来不那么紧凑 */
      border-radius: 8px; /* 统一卡片圆角 */
    }

    .card:hover {
      transform: scale(var(--card-hover-scale));
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); /* 悬浮时增加阴影效果 */
    }

    /* ===== Logo图片样式 ===== */
    .card img {
      width: 85%; 
      aspect-ratio: 1 / 1; 
      object-fit: contain; 
      background-color: var(--logo-bg-color);
      border-radius: 12px;
      margin-bottom: 8px;
      flex-shrink: 0; /* 防止图片在flex容器中缩小 */
    }

    /* ===== 标题样式 ===== */
    .card-title {
      font-size: 13px; /* 稍微调大一点，提升可读性 */
      text-align: center;
      width: 100%;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      box-sizing: border-box; /* 确保padding不会撑开元素 */
      padding: 0 2px; /* 左右增加一点点内边距，防止文字紧贴边缘 */
    }

    /* ===== 响应式调整 ===== */
    /* 小屏幕手机: 320px - 480px, 显示4列 */
    @media (max-width: 480px) {
      .grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 15px 10px; /* 减小间距，适应小屏 */
      }
      .card-title {
        font-size: 11px; /* 进一步减小字号 */
      }
    }

    /* 中等屏幕手机/小平板: 481px - 768px, 显示6列 */
    @media (min-width: 481px) and (max-width: 768px) {
      .grid {
        grid-template-columns: repeat(6, 1fr);
        gap: 20px 12px;
      }
      .card-title {
        font-size: 13px;
      }
    }
    
    /* 平板/桌面: 769px - 1024px, 显示8列 */
    @media (min-width: 769px) and (max-width: 1024px) {
      .grid {
        grid-template-columns: repeat(8, 1fr);
        gap: 24px 16px;
      }
      .card-title {
        font-size: 14px;
      }
    }

    /* 大屏幕桌面: 1025px 以上, 显示10列 */
    @media (min-width: 1025px) {
      .grid {
        grid-template-columns: repeat(10, 1fr);
        gap: 24px 16px;
      }
      .card-title {
        font-size: 14px;
      }
    }

    /* ===== 页脚样式 ===== */
    footer {
      text-align: center;
      padding: 1.5rem;
      font-size: 0.9rem;
      color: var(--secondary-text-color);
      margin-top: 30px; /* 增加顶部外边距，拉开与内容的距离 */
      border-top: 1px solid var(--border-color); /* 增加顶部边框 */
    }
  </style>
</head>
<body>
  <header>精选站点导航</header>
  
  <div id="card-container" class="grid"></div>

  <footer>联系站长: Telegram: @yy21551 | E-mail: melyy179@gmail.com</footer>
  
  <script src="cards-from-guanli.js"></script> 
  
  <script>
    // 这段 JavaScript 代码负责从 cards-from-guanli.js 获取数据并动态生成卡片。
    // 请确保 cards-from-guanli.js 导出一个名为 'sites' 的数组，
    // 每个对象包含 image, name, url 属性。

    document.addEventListener('DOMContentLoaded', () => {
      const cardContainer = document.getElementById('card-container');
      // 检查 sites 变量是否存在且是数组
      // sites 变量将由 cards-from-guanli.js 文件提供
      if (cardContainer && typeof sites !== 'undefined' && Array.isArray(sites)) {
        sites.forEach(site => {
          const card = document.createElement('a');
          card.href = site.url;
          card.target = "_blank"; // 在新标签页打开
          card.rel = "noopener noreferrer"; // 提高安全性

          card.classList.add('card');

          const img = document.createElement('img');
          // 图片路径假设它们位于网站根目录下的 'logos' 文件夹中
          // 例如：如果 site.image 是 "tiktok.png"，则 src 会变成 "logos/tiktok.png"
          img.src = "logos/" + site.image; 
          img.alt = site.name + ' Logo'; // 为图片添加 alt 属性，用于无障碍和SEO
          img.loading = "lazy"; // 图片懒加载

          const title = document.createElement('div');
          title.classList.add('card-title');
          title.textContent = site.name;

          card.appendChild(img);
          card.appendChild(title);
          cardContainer.appendChild(card);
        });
      } else {
        console.error("未能找到 card-container 元素或 'sites' 数据未正确加载。请确保 cards-from-guanli.js 正确定义了 'sites' 数组。");
      }
    });
  </script>
</body>
</html>
